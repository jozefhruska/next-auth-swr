"use strict";var U=Object.create;var c=Object.defineProperty,g=Object.defineProperties,x=Object.getOwnPropertyDescriptor,W=Object.getOwnPropertyDescriptors,b=Object.getOwnPropertyNames,l=Object.getOwnPropertySymbols,d=Object.getPrototypeOf,p=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable;var a=(n,s,e)=>s in n?c(n,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[s]=e,R=(n,s)=>{for(var e in s||(s={}))p.call(s,e)&&a(n,e,s[e]);if(l)for(var e of l(s))E.call(s,e)&&a(n,e,s[e]);return n},O=(n,s)=>g(n,W(s));var j=(n,s)=>{for(var e in s)c(n,e,{get:s[e],enumerable:!0})},m=(n,s,e,o)=>{if(s&&typeof s=="object"||typeof s=="function")for(let i of b(s))!p.call(n,i)&&i!==e&&c(n,i,{get:()=>s[i],enumerable:!(o=x(s,i))||o.enumerable});return n};var P=(n,s,e)=>(e=n!=null?U(d(n)):{},m(s||!n||!n.__esModule?c(e,"default",{value:n,enumerable:!0}):e,n)),k=n=>m(c({},"__esModule",{value:!0}),n);var h=(n,s,e)=>new Promise((o,i)=>{var r=t=>{try{f(e.next(t))}catch(S){i(S)}},u=t=>{try{f(e.throw(t))}catch(S){i(S)}},f=t=>t.done?o(t.value):Promise.resolve(t.value).then(r,u);f((e=e.apply(n,s)).next())});var z={};j(z,{useSession:()=>v});module.exports=k(z);var y=P(require("swr")),q=n=>fetch(n).then(s=>h(void 0,null,function*(){let e=yield s.json();return Object.keys(e).length?e:null})),v=n=>{let{required:s,onUnauthenticated:e,config:o}=n!=null?n:{};return(0,y.default)("/api/auth/session",q,O(R({},o),{onSuccess:(i,r,u)=>{typeof(o==null?void 0:o.onSuccess)=="function"&&o.onSuccess(i,r,u),!(s&&!i)&&typeof e=="function"&&e()},onError:(i,r,u)=>{typeof(o==null?void 0:o.onError)=="function"&&o.onError(i,r,u),!(s&&!i)&&typeof e=="function"&&e()}}))};
