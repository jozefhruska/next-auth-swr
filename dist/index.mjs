var O=Object.defineProperty,m=Object.defineProperties;var h=Object.getOwnPropertyDescriptors;var S=Object.getOwnPropertySymbols;var y=Object.prototype.hasOwnProperty,U=Object.prototype.propertyIsEnumerable;var l=(s,e,n)=>e in s?O(s,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):s[e]=n,a=(s,e)=>{for(var n in e||(e={}))y.call(e,n)&&l(s,n,e[n]);if(S)for(var n of S(e))U.call(e,n)&&l(s,n,e[n]);return s},p=(s,e)=>m(s,h(e));var R=(s,e,n)=>new Promise((o,i)=>{var r=t=>{try{c(n.next(t))}catch(f){i(f)}},u=t=>{try{c(n.throw(t))}catch(f){i(f)}},c=t=>t.done?o(t.value):Promise.resolve(t.value).then(r,u);c((n=n.apply(s,e)).next())});import g from"swr";var x=s=>fetch(s).then(e=>R(void 0,null,function*(){let n=yield e.json();return Object.keys(n).length?n:null})),j=s=>{let{required:e,onUnauthenticated:n,config:o}=s!=null?s:{};return g("/api/auth/session",x,p(a({},o),{onSuccess:(i,r,u)=>{typeof(o==null?void 0:o.onSuccess)=="function"&&o.onSuccess(i,r,u),!(e&&!i)&&typeof n=="function"&&n()},onError:(i,r,u)=>{typeof(o==null?void 0:o.onError)=="function"&&o.onError(i,r,u),!(e&&!i)&&typeof n=="function"&&n()}}))};export{j as useSession};
//# sourceMappingURL=index.mjs.map
